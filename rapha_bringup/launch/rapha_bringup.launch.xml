<launch version="0.1.1">

  <arg
    name="model"
    default="$(find-pkg-share rapha_description)/urdf/rapha.urdf.xacro"
    description="Absolute path to robot urdf.xacro file" />
  <arg name="tf_frame_prefix" default="" />

  <include file="$(find-pkg-share rapha_description)/launch/state_publisher.launch.xml">
    <arg name="model" value="$(var model)" />
  </include>

  <include file="$(find-pkg-share rapha_bringup)/launch/oak.launch.xml" />

  <node name="rplidar_node" pkg="rplidar_ros" exec="rplidar_node">
    <param name="channel_type" value="serial" />
    <param name="frame_id" value="laser_frame" />
    <param name="serial_port" value="/dev/ttyS5" />
    <param name="angle_compensate" value="true" />
    <param name="serial_baudrate" value="1000000" />
  </node>

  <node pkg="rapha_bringup" exec="rapha_system" />

</launch>
