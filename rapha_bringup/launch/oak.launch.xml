<launch version="0.1.1">

  <node_container namespace=""
    name="oak_container"
    pkg="rclcpp_components"
    exec="component_container_isolated">
    <composable_node namespace="oak"
      name="oak_wrapper"
      pkg="leo2_oak"
      plugin="leo2_oak::OakWrapper">
      <extra_arg name="use_intra_process_comms" value="true" />
      <param from="$(find-pkg-share leo2_bringup)/config/oak_wrapper.yaml" />
    </composable_node>
    <composable_node namespace="oak"
      name="point_cloud_xyz"
      pkg="depth_image_proc"
      plugin="depth_image_proc::PointCloudXyzNode">
      <extra_arg name="use_intra_process_comms" value="true" />
      <remap from="image_rect" to="stereo/depth" />
      <remap from="camera_info" to="stereo/camera_info" />
      <remap from="points" to="stereo/points" />
    </composable_node>
  </node_container>

</launch>